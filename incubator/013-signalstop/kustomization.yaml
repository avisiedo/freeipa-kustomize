# https://kubectl.docs.kubernetes.io/references/kustomize/kustomization/
#
# Proof of Concept for reading namespace info and inject it in the ConfigMap
#
# Quick Start:
#   oc kustomize . | oc create -
#   oc describe pod/demo-signals
#   oc kustomize . | oc delete -
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# vars:
# - name: CLUSTER_DOMAIN
#   objref: 
#     kind: DNS
#     name: cluster
#     apiVersion: config.openshift.io/v1
#   fieldref:
#     fieldpath: spec.baseDomain
# - name: CLUSTER_DOMAIN
#   objref: 
#     kind: ConfigMap
#     name: freeipa
#     apiVersion: v1
#   fieldref:
#     fieldpath: data.CLUSTER_DOMAIN

resources:
- pod.yaml
images:
- name: workload
  newName: quay.io/avisied0/demos
  newTag: signals-aarch64
